{% extends 'mainapp/base.html' %}
{% block content %}
    <div id="app">
        <div class="message-main">
            <div class="message-main-text ">
                {{ text.main.main_message }}
            </div>
            <div class="message-main-input">
                <form action="{% url 'main:teachers_search' %}" id="course-form" method="post">
                    {% csrf_token %}
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" name="course" autocomplete="off" id="course-input"
                               placeholder="{{ text.main.input_message }}"
                               aria-label="Recipient's username" aria-describedby="basic-addon2">
                        <input type="hidden" id="value" name="value" value="">
                        <div class="input-group-append">
                            <button class="input-group-text">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <div id="hints-block">

                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="#courses_data" style="display: none">{{ courses }}</div>
    <div id="#lang" style="display: none">{{ current_lang }}</div>
    <script>
        APIRequest(`/api/v1/get/courses/?lang={{ current_lang }}`, function (data) {
            let data_ = [];
            for (let i = 0; i < data.length; i++) {
                data_.push(data[i].item);
            }
            console.log(data);
            console.log(data_);
            autocomplete(document.getElementById("course-input"), data_, '#course-form', '#value', data);
        })
    </script>
{% endblock %}